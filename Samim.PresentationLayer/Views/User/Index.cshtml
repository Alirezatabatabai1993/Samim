@using Samim.PresentationLayer;
@model Samim.ViewModel.VMUser
@{
	ViewData["Title"] = "Index";
	Layout = "~/Views/Shared/_Layout.cshtml";
	int count = 0;
}

<h1>Users</h1>

<a onclick="OpenCreateModal()" href="#" class="btn float-right"><span class="fa fa-user-plus"></span></a>

<table class="table">
	<thead>
		<tr class="table-primary">
			<th scope="col">
				#
			</th>
			<th scope="row">
				First Name
			</th>
			<th scope="row">
				Last Name
			</th>
			<th scope="col">
				User Name
			</th>
			<th scope="col">
				Email
			</th>
			<th scope="col">
				Phone Number
			</th>
		</tr>
	</thead>
	@foreach (var item in Model.Users)
	{
		count += 1;
		<tbody>
			<tr>
				<td scope="row">
					@count
				</td>
				<td scope="row">
					@item.FirstName
				</td>
				<td scope="row">
					@item.LastName
				</td>
				<td scope="row">
					@item.UserName
				</td>
				<td scope="row">
					@item.Email
				</td>
				<td scope="row">
					@item.PhoneNumber
				</td>
			</tr>
		</tbody>
	}
</table>

<div id="CreateAndEditModal" class="modal fade" role="dialog">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title"> @(Model.UserCreateAndEdit.Id == null ? "Create User" : "Edit User")</h4>
				<button type="button" class="btn btn-default float-right" data-dismiss="modal"><span class="fa fa-times"></span></button>
			</div>
			<div class="modal-body">
				<partial name="_Create" model="Model.UserCreateAndEdit" />
			</div>
		</div>

	</div>
</div>

<script type="text/javascript">

	$("#passwordInput").mouseleave(function () {
		//debugger
		document.getElementById("passwordInput").type = "password";
	})

	document.getElementById("#eyeButton").draggable = false;

	function EyeButtonMouseDownFunction() {
		document.getElementById("passwordInput").type = "text";
	}
	function EyeButtonMouseUpFunction() {
		document.getElementById("passwordInput").type = "password";
	}


	function OpenCreateModal() {
		$("#CreateAndEditModal").modal();
	}
</script>